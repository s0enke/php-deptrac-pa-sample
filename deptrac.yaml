imports:
  - deptrac.baseline.yaml
deptrac:
  paths:
    - ./src
  layers:
    - name: Infrastructure
      collectors:
        - type: classLike
          value: DeptracPortsAdaptersSample\\Infrastructure\\.*
    - name: Order_DrivenPorts
      collectors:
        - type: classLike
          value: DeptracPortsAdaptersSample\\Order\\DrivenPort\\.*
    - name: Order
      collectors:
        - type: bool
          must:
            - type: classLike
              value: DeptracPortsAdaptersSample\\Order\\.*
          must_not:
            - type: layer
              value: Order_DrivenPorts
    - name: Payment_DrivingPorts
      collectors:
        - type: classLike
          value: DeptracPortsAdaptersSample\\Payment\\DrivingPort\\.*
    - name: Payment
      collectors:
        - type: bool
          must:
            - type: classLike
              value: DeptracPortsAdaptersSample\\Payment\\.*
          must_not:
            - type: layer
              value: Payment_DrivingPorts
    - name: Billing
      collectors:
        - type: classLike
          value: DeptracPortsAdaptersSample\\Billing\\.*
  ruleset:
    Order:
      - Infrastructure
      - Order_DrivenPorts
    Order_DrivenPorts:
      - Payment_DrivingPorts
    Billing:
      - Infrastructure
    Payment:
      - Payment_DrivingPorts